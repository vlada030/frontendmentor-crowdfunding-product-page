(()=>{"use strict";var e=document.querySelector(".nav-mobile"),t=document.querySelector(".modal-pledge"),o=document.querySelector(".modal-confirmation"),l=(document.querySelector(".container"),document.querySelector(".nav")),c=document.querySelectorAll("[data-form]"),n=(document.getElementById("pledgeSelector25"),document.getElementById("pledgeSelector75"),document.getElementById("pledgeSelector200"),document.getElementById("pledgeInput25"),document.getElementById("pledgeInput75"),document.getElementById("pledgeInput200"),document.getElementById("btnBookmark")),a=document.querySelectorAll('[type="radio"]'),r=document.querySelectorAll(".pledge-option"),s=document.getElementById("progressBar"),i=document.getElementById("currentAmount"),u=document.getElementById("totalAmount"),d=document.getElementById("totalBackers"),g=document.querySelectorAll("[data-field25]"),m=document.querySelectorAll("[data-field75]"),p=document.querySelectorAll("[data-field200]");function f(e,t){for(var o=0;o<t.length;o++){var l=t[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}var k=function(){r.forEach((function(e){e.querySelector('[type="radio"]').checked=!1,e.classList.toggle("active",!1)})),pledgeInput25.value=25,pledgeInput75.value=75,pledgeInput200.value=200},y=new(function(){function e(t,o,l,c,n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.currentAmount=t,this.totalAmount=o,this.totalBackers=l,this.leftNoBackers25=c,this.leftNoBackers75=n,this.leftNoBackers200=a}var t,o;return t=e,o=[{key:"calcAmount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.currentAmount=this.currentAmount+parseInt(e)}},{key:"calcTotalBackers",value:function(){this.totalBackers+=1}},{key:"calcLeftNoBackers25",value:function(){0!==this.leftNoBackers25&&(this.leftNoBackers25=this.leftNoBackers25-1)}},{key:"calcLeftNoBackers75",value:function(){0!==this.leftNoBackers75&&(this.leftNoBackers75-=1)}},{key:"calcLeftNoBackers200",value:function(){0!==this.leftNoBackers200&&(this.leftNoBackers200-=1)}},{key:"updateUI",value:function(){var e=this,t=this.totalAmount.toLocaleString("en",{style:"currency",currency:"USD",maximumFractionDigits:0}),o=this.currentAmount.toLocaleString("en",{style:"currency",currency:"USD",maximumFractionDigits:0}),l=this.totalBackers.toLocaleString("en",{maximumFractionDigits:0});s.style.width="".concat(this.currentAmount/this.totalAmount*100,"%"),u.innerText="of ".concat(t," backed"),i.innerText="".concat(o),d.innerText=l,g.forEach((function(t){t.innerText=e.leftNoBackers25})),m.forEach((function(t){t.innerText=e.leftNoBackers75})),p.forEach((function(t){t.innerText=e.leftNoBackers200}))}}],o&&f(t.prototype,o),e}())(5e4,1e5,5e3,101,64,0);y.calcAmount(),y.updateUI(),window.addEventListener("click",(function(c){(c.target.closest("#openMobileMenu")||c.target.closest("#closeMobileMenu"))&&(l.classList.toggle("disabled-fade"),e.classList.toggle("open-modal")),c.target.closest("#btnBookmark")&&(n.classList.contains("active")?(n.classList.toggle("active",!1),n.querySelector("span").innerText="Bookmark"):(n.classList.toggle("active",!0),n.querySelector("span").innerText="Bookmarked")),"openPledgeModal"===c.target.id&&(k(),t.classList.toggle("open-modal")),c.target.closest("#closePledgeModal")&&t.classList.toggle("open-modal"),"openModalPledge-25"!==c.target.id&&"openModalPledge-75"!==c.target.id&&"openModalPledge-200"!==c.target.id||(t.classList.toggle("open-modal"),function(e){var t,o=e.id.split("-")[1];switch(k(),o){case"25":pledgeInput25.value=o,pledgeSelector25.checked=!0,t=pledgeInput25.closest(".pledge-option");break;case"75":pledgeInput75.value=o,pledgeSelector75.checked=!0,t=pledgeInput75.closest(".pledge-option");break;case"200":pledgeInput200.value=o,pledgeSelector200.checked=!0,t=pledgeInput200.closest(".pledge-option");break;default:return}t.classList.toggle("active",!0)}(c.target),window.scrollTo({top:0,behavior:"smooth"})),c.target.closest("#closeConfirmedModal")&&(o.classList.toggle("open-modal",!1),window.scrollTo({top:0,behavior:"smooth"}))})),c.forEach((function(e){e.addEventListener("submit",(function(l){l.preventDefault();var c=e.querySelector('input[type="number"]'),n=c.value,a=c.placeholder;switch(y.calcAmount(n),y.calcTotalBackers(),a){case"0":break;case"25":y.calcLeftNoBackers25();break;case"75":y.calcLeftNoBackers75();break;case"200":y.calcLeftNoBackers200();break;default:return}y.updateUI(),t.classList.toggle("open-modal",!1),o.classList.toggle("open-modal",!0)}))})),a.forEach((function(e){e.addEventListener("click",(function(){r.forEach((function(e){e.classList.toggle("active",!1)})),e.closest(".pledge-option").classList.toggle("active",!0)}))})),window.addEventListener("keydown",(function(o){"Escape"===o.key&&(t.classList.toggle("open-modal",!1),e.classList.toggle("open-modal",!1),l.classList.toggle("disabled-fade",!1))}))})();